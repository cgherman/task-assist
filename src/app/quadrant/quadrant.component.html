<!-- Form Elements -->
<div class="">
  <form [formGroup]="quadrantForm">
    <div class="form-group">
      <div class="w3-row w3-section w3-row-padding">
        <div class="w3-container">
          <div class="w3-col" style="width:50px"><i class="w3-xxlarge fa fa-book"></i></div>
          <div class="w3-rest" >
            <select class="w3-select" (ngModelChange)="onChangeTaskList($event)" formControlName="taskList" id="taskListDropDown">
              <option *ngFor="let taskList of taskLists | async; let i = index "
                      [value]="taskList.id"
                      [attr.selected]="i == 0 ? 'true' : null">
                      {{taskList.title}}
              </option>
            </select>
          </div>
        </div>
      </div>
    </div>
  </form>
</div>

<!-- Quadrants -->
<div class="">
  <div class="w3-twothird">
    <div class="split-container">
      <div class="split-half quad-1 external-outline w3-row-padding">
          <div class="quad-title w3-xlarge">Focus</div>
      </div>
      <div class="split-divider">
      </div>
      <div class="split-half quad-2 external-outline w3-row-padding">
          <div class="quad-title w3-xlarge">Plan</div>
      </div>
      <div class="right-separator">
        <!-- vertical static margin (allows responsive) -->
      </div>
    </div>
    <div class="split-container w3-margin-bottom" style="min-height: 30px;">
      <div class="split-half quad-1 external-outline" [dragula]='"taskBag"' [dragulaModel]='tasks'>
        <ng-container *ngFor="let task of tasks | async">
          <ng-container *ngIf="quadrantMatch(task, 1)">
              <div [attr.id]="task.id" class="w3-padding-small w3-hover-white w3-border">
                  {{task.title}}
              </div>
          </ng-container>
        </ng-container>
      </div>
      <div class="split-divider">
      </div>
      <div class="split-half quad-2 external-outline" [dragula]='"taskBag"' [dragulaModel]='tasks'>
        <ng-container *ngFor="let task of tasks | async">
          <ng-container *ngIf="quadrantMatch(task, 2)">
              <div [attr.id]="task.id" class="w3-padding-small w3-hover-white w3-border">
                  {{task.title}}
              </div>
          </ng-container>
        </ng-container>
      </div>
      <div class="right-separator">
        <!-- vertical static margin (allows responsive) -->
      </div>
    </div>  
    <div class="split-container">
        <div class="split-half quad-3 external-outline w3-row-padding">
            <div class="quad-title w3-xlarge">Delegate</div>
          </div>
        <div class="split-divider">
        </div>
        <div class="split-half quad-4 external-outline w3-row-padding">
            <div class="quad-title w3-xlarge">Eliminate</div>
          </div>
        <div class="right-separator">
        <!-- vertical static margin (allows responsive) -->
        </div>
      </div>
      <div class="split-container w3-margin-bottom" style="min-height: 30px;">
      <div class="split-half quad-3 external-outline" [dragula]='"taskBag"' [dragulaModel]='tasks'>
        <ng-container *ngFor="let task of tasks | async">
          <ng-container *ngIf="quadrantMatch(task, 3)">
              <div [attr.id]="task.id" class="w3-padding-small w3-hover-white w3-border">
                  {{task.title}}
              </div>
          </ng-container>
        </ng-container>
      </div>
      <div class="split-divider">
      </div>
      <div class="split-half quad-4 external-outline" [dragula]='"taskBag"' [dragulaModel]='tasks'>
        <ng-container *ngFor="let task of tasks | async">
          <ng-container *ngIf="quadrantMatch(task, 4)">
              <div [attr.id]="task.id" class="w3-padding-small w3-hover-white w3-border">
                  {{task.title}}
              </div>
          </ng-container>
        </ng-container>
      </div>
      <div class="right-separator">
        <!-- vertical static margin (allows responsive) -->
      </div>
    </div>
  </div>
  <div class="w3-third">
    <div style="margin-right: 8px;">
      <div class="">
        <div class="quad-0 external-outline w3-row-padding">
            <div class="quad-title w3-xlarge">Unspecified</div>
          </div>
      </div>
      <div class="">
        <div class="quad-0 external-outline" style="min-height: 30px;" [dragula]='"taskBag"' [dragulaModel]='tasks'>
          <ng-container *ngFor="let task of tasks | async">
            <ng-container *ngIf="quadrantMatch(task, null)">
                <div [attr.id]="task.id" class="w3-padding-small w3-hover-white w3-border null-as-blank">
                    {{task.title}}
                </div>
            </ng-container>
          </ng-container>
        </div>
      </div>
    </div>
  </div>
</div>